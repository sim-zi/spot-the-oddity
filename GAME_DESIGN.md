# 🎮 지식 설명하기 (Knowledge Telephone)

> 가상의 지식을 설명하고, 새로운 지식을 탄생시키는 게임

---

## 📋 게임 개요

### 컨셉

플레이어가 **가상의 지식**을 AI에게 설명하면, AI가 이해한 내용을 바탕으로 **새로운 지식**을 만들어내는 게임.
마치 "전화기 게임(Chinese Whispers)"처럼, 지식이 전달되면서 변형되고 진화한다.

### 핵심 포인트

- 모든 지식은 **실제로 존재하지 않는 가상의 지식**
- 플레이어가 설명한 지식이 AI를 거쳐 **새로운 형태로 재탄생**
- 재탄생한 지식은 **다음 플레이어에게 전달**됨
- 지식의 계보(genealogy)가 형성됨

---

## 🎯 게임 플로우

```
┌─────────────────────────────────────────────────────────────┐
│  1. 입장                                                      │
│     └── 주제 선택 화면                                         │
├─────────────────────────────────────────────────────────────┤
│  2. 지식 확인                                                  │
│     └── 백과사전 스타일의 가상 지식 표시                          │
│     └── 읽기 시간 (30초~1분?)                                  │
├─────────────────────────────────────────────────────────────┤
│  3. 채팅방 입장                                                │
│     └── AI 봇이 대기 중                                        │
│     └── 플레이어가 지식을 설명                                   │
│     └── AI가 질문하며 이해                                      │
├─────────────────────────────────────────────────────────────┤
│  4. 시간 종료                                                  │
│     └── 채팅창 프리즈                                          │
│     └── "지식 생성 중..." 로딩                                  │
├─────────────────────────────────────────────────────────────┤
│  5. 결과                                                      │
│     └── AI가 생성한 새로운 지식 표시                             │
│     └── DB에 저장                                             │
│     └── 다음 플레이어에게 전달됨                                 │
└─────────────────────────────────────────────────────────────┘
```

---

## 📚 지식 구조

### 지식 카테고리 (주제)

```
- 🔬 과학/기술
- 🎨 예술/문화
- 🌍 역사/지리
- 🧬 생물/자연
- 🔮 철학/개념
- 🎲 기타/미분류
```

### 지식 데이터 스키마

```typescript
interface Knowledge {
  id: string;

  // 기본 정보
  title: string; // 지식의 제목/이름
  category: Category; // 주제 카테고리
  description: string; // 백과사전 스타일 설명

  // 계보 정보
  parentId: string | null; // 부모 지식 ID (최초 생성이면 null)
  generation: number; // 몇 세대인지 (0 = 시드, 1 = 1세대...)

  // 메타 정보
  createdAt: Date;
  createdBy: string; // 생성한 세션 ID
  chatLog: ChatMessage[]; // 생성에 사용된 채팅 기록

  // 통계
  timesShown: number; // 노출 횟수
  childrenCount: number; // 파생된 지식 수
}
```

### 시드 지식 (Seed Knowledge)

- 게임 시작을 위해 **사전에 준비된 초기 지식들**
- AI가 생성한 것처럼 보이지만, 실제로는 기획자가 작성
- `generation: 0`, `parentId: null`

---

## 💬 채팅 시스템

### AI 봇 페르소나

```
- 호기심 많은 학습자
- 적극적으로 질문함
- 이해한 내용을 확인하려 함
- 때때로 잘못 이해하기도 함 (의도적)
```

### AI 질문 패턴

```
1. 기본 이해
   - "그게 정확히 뭔가요?"
   - "어떻게 작동하는 건가요?"

2. 세부 사항
   - "왜 그런 건가요?"
   - "예를 들면 어떤 게 있나요?"

3. 관계/맥락
   - "다른 것과 어떻게 다른가요?"
   - "언제/어디서 사용되나요?"

4. 확인
   - "그러니까 ~라는 거죠?"
   - "제가 이해한 게 맞나요?"
```

### 채팅 제한

- **시간 제한**: 1분
- **메시지 제한**: 없음 (시간으로만 제한)

### 지식 읽기 시간

- **20초** (채팅 시작 전)

---

## 🔄 지식 생성 로직

### AI가 새 지식을 만드는 과정

```
1. 채팅 기록 분석
   - 플레이어가 설명한 핵심 개념 추출
   - AI가 이해한 내용 정리

2. 변형 적용
   - 일부 정보 누락 (전화기 게임처럼)
   - 잘못된 이해 반영
   - 새로운 해석 추가

3. 새 지식 생성
   - 백과사전 스타일로 재작성
   - 제목 새로 생성
   - 원본과 연결되지만 다른 지식

4. DB 저장
   - parentId = 원본 지식 ID
   - generation = 원본.generation + 1
```

### 변형 정도 조절

```
- 너무 똑같으면: 재미없음
- 너무 다르면: 연결성 없음
- 적절한 변형: 원본의 핵심은 유지하되 새로운 해석/오해 추가
```

---

## 🗄️ 데이터베이스 설계

### 필요한 테이블

```
1. knowledges      - 지식 저장
2. chat_sessions   - 채팅 세션
3. chat_messages   - 채팅 메시지
```

### 기술 스택

```
Database: Liveblocks
- 실시간 동기화 지원
- 클라우드 스토리지 내장
- React 통합 용이
- 무료 티어로 프로토타입 가능
```

---

## 🎨 UI/UX 설계

### 화면 구성

```
1. 메인 화면
   - 게임 제목
   - "시작하기" 버튼

2. 주제 선택 화면
   - 6개 카테고리 카드
   - 각 카테고리별 아이콘

3. 지식 열람 화면
   - 백과사전 스타일 레이아웃
   - 제목, 본문
   - 타이머 (읽기 시간)
   - "이해했습니다" 버튼

4. 채팅 화면
   - 현재 UI 재활용 가능
   - 상단: 남은 시간 표시
   - 중앙: 채팅 영역
   - 하단: 입력창

5. 로딩 화면
   - "새로운 지식 생성 중..."
   - 애니메이션

6. 결과 화면
   - 원본 지식 vs 새로 생성된 지식
   - 비교 뷰
   - "다시 하기" / "공유하기" 버튼
```

### 디자인 컨셉

```
테마: 백과사전/도서관
톤앤매너: 퀴즈쇼 느낌
- 밝고 경쾌한 분위기
- 지식 전달의 긴장감
- 시간 제한의 스릴
```

---

## 📅 개발 단계

### Phase 1: 기본 구조 (MVP)

- [ ] 주제 선택 화면
- [ ] 지식 표시 화면
- [ ] 시드 지식 3-5개 준비
- [ ] 채팅 시스템 (기존 코드 수정)
- [ ] 타이머 기능

### Phase 2: 지식 생성

- [ ] AI 지식 생성 프롬프트 개발
- [ ] 결과 화면
- [ ] 로컬 저장 (JSON)

### Phase 3: 데이터베이스

- [ ] DB 연동
- [ ] 지식 저장/불러오기
- [ ] 지식 계보 추적

### Phase 4: 고도화

- [ ] 지식 계보 시각화
- [ ] 통계/분석
- [ ] 공유 기능

---

## ✅ 결정 사항

### 게임플레이

- [x] 채팅 시간 제한: **1분**
- [x] 지식 읽기 시간: **20초**
- [x] AI 질문 빈도/패턴: **사람과 비슷하게**

### 디자인

- [x] 테마: **백과사전/도서관**
- [x] 톤앤매너: **퀴즈쇼 느낌**

### 기술

- [x] DB: **Liveblocks**
- [x] 배포: **Vercel**

---

## 📝 참고 사항

### 유사 게임/컨셉

- 전화기 게임 (Chinese Whispers)
- Gartic Phone (그림 버전)
- AI Dungeon (AI 스토리텔링)

### 핵심 재미 요소

1. **변형의 재미**: 내가 설명한 지식이 어떻게 변할까?
2. **발견의 재미**: 다른 사람이 만든 이상한 지식 발견
3. **계보의 재미**: 지식이 어떻게 진화했는지 추적
4. **창작의 재미**: 새로운 가상 지식의 탄생에 기여

---

_Last Updated: 2025-12-11_
